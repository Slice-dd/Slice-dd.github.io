webpackJsonp([2],{"+n8z":function(e,t){},"1leW":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("ODt/"),a("vgHw")),s=l(n),r=(a("du7Z"),a("IidI")),c=l(r),u=(a("Uiyf"),a("ofCO")),d=l(u),i=(a("N3Nc"),a("1cZb")),m=l(i),o=a("Zx67"),f=l(o),p=a("Zrlr"),h=l(p),E=a("wxAW"),v=l(E),g=a("zwoO"),y=l(g),N=a("Pf15"),k=l(N),_=(a("3pby"),a("qB1w")),D=l(_),w=a("U7vG"),b=l(w),T=a("+n8z"),C=(l(T),a("M0P8")),M=a("xT58"),I=l(M),x=a("xF1r"),S=D.default.TabPane,O=function(e){function t(){var e,a,l,n;(0,h.default)(this,t);for(var s=arguments.length,r=Array(s),c=0;c<s;c++)r[c]=arguments[c];return a=l=(0,y.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(r))),l.state={image:"",step:[],processInstanceId:null,buttonShow:!0,hideDialog:!1},l.show=function(){l.state.isShow},l.hide=function(){l.setState({hideDialog:!0}),setTimeout(function(){l.props.hide()},150)},l.fetchFroms=function(e){var t=l.props.item,a=l.state;a.image,a.step,"taskApproval"===e?l.setState({buttonShow:!0}):l.setState({buttonShow:!1}),(0,C.GET)("/users/tasks/"+t.processInstanceId+"/image").then(function(e){l.setState({image:e.data.content})}).catch(function(e){return(0,I.default)(e)}),(0,C.GET)("/users/tasks/"+t.processInstanceId+"/step").then(function(e){l.setState({step:e.data})}).catch(function(e){return(0,I.default)(e)})},l.messages=function(e){var t=document.getElementById("IndexWorkflowFrame");if(!l.timer)return void t.contentWindow.postMessage(e,"*");t&&t.contentWindow&&(t.contentWindow.postMessage(e,"*"),clearInterval(l.timer))},l.handleMsg=function(e){var t=JSON.parse(e.data);t.success?(l.hide(),m.default.success(t.msg)):m.default.error(t.msg)},l.posts=function(e){var t=document.getElementById("IndexWorkflowFrame");t&&t.contentWindow?l.messages(e):l.timer=setInterval(function(){return l.messages(e)},20),window.removeEventListener("massage",l.handleMsg),window.addEventListener("message",l.handleMsg)},n=a,(0,y.default)(l,n)}return(0,k.default)(t,e),(0,v.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.isShow&&this.state.hideDialog&&this.setState({hideDialog:!1,buttonShow:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isShow,l=t.item,n=this.state,r=n.image,u=n.step,i=(n.processInstanceId,n.buttonShow),m=n.hideDialog,o=.5*(document.documentElement.clientWidth||window.screen.availWidth),f=(document.documentElement.clientHeight||window.screen.availHeaight)-240;return o=o<750?750:o,f=f>668?668:f,b.default.createElement("div",{className:"IndexTaskDialog"},b.default.createElement("div",null,this.props.children),a?b.default.createElement("div",{className:m?"dialog hideDialog":"dialog",style:{width:o}},b.default.createElement("div",{className:"dialog-top"},b.default.createElement("h3",{className:"taskTitle"},l.proStartUserName,"的",l.processDefName,"审批")),b.default.createElement("div",{className:"taskContent"},b.default.createElement(D.default,{defaultActiveKey:"taskApproval",onChange:this.fetchFroms},b.default.createElement(S,{tab:"任务流程",key:"taskFlows"},b.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),b.default.createElement("div",{className:"taskStep"},"任务进度"),b.default.createElement(d.default,{style:{minHeight:45*u.length+100}},u.map(function(e,t){return b.default.createElement(d.default.Item,{key:e.proStep+t},b.default.createElement("span",{className:"endTime"},t>0&&e.endTime?e.endTime.substr(0,10)===u[t-1].endTime.substr(0,10)?b.default.createElement("span",{className:"sameDay"},e.endTime.substr(11)):tem.endTime:e.endTime?e.endTime:"当前步骤"),b.default.createElement("span",null,e.activityName,"-",e.userName))}))),b.default.createElement(S,{tab:"任务审批",key:"taskApproval"},b.default.createElement("iframe",{style:{overflow:"auto",height:f,marginBottom:100},src:x.workflowPath+"/tasks.html?taskId="+l.id,id:"IndexWorkflowFrame",scrolling:"auto",frameBorder:0,height:"100%",width:"100%"})))),i?b.default.createElement("div",{className:"handleClick"},b.default.createElement(c.default,{size:"large",onClick:function(){return e.posts("turntodoTask")}},"转办"),b.default.createElement(c.default,{size:"large",onClick:function(){return e.posts("addAttache")}},"上传附件"),b.default.createElement(c.default,{size:"large",onClick:function(){return e.posts("returnTask")}},"退回"),b.default.createElement(c.default,{size:"large",type:"primary",onClick:function(){return e.posts("commitForm")}},"完成")):null,b.default.createElement("a",{href:"javascript:;",className:"close",onClick:this.hide},b.default.createElement(s.default,{type:"close"}))):null)}}]),t}(b.default.Component);t.default=O},"1s5I":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("ODt/"),a("vgHw")),s=l(n),r=a("Zx67"),c=l(r),u=a("Zrlr"),d=l(u),i=a("wxAW"),m=l(i),o=a("zwoO"),f=l(o),p=a("Pf15"),h=l(p),E=a("U7vG"),v=l(E),g=a("RH2O"),y=a("RMmU"),N=l(y),k=a("BCOr"),_=a("1leW"),D=l(_),w=function(e){function t(){var e,a,l,n;(0,d.default)(this,t);for(var s=arguments.length,r=Array(s),u=0;u<s;u++)r[u]=arguments[u];return a=l=(0,f.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(r))),l.state={item:null,isShow:!1},l.fetchTask=function(){l.props.dispatch(k.toDo)},l.itemClick=function(e){l.state.isShow||l.setState({isShow:!0,item:e})},l.hideDialog=function(){l.setState({isShow:!1,item:null}),l.fetchTask()},n=a,(0,f.default)(l,n)}return(0,h.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.fetchTask()}},{key:"render",value:function(){var e=this,t=this.props.todo,l=this.state,n=l.item,r=l.isShow;return v.default.createElement("div",{className:N.default.indexTask},t.length>0?v.default.createElement(D.default,{isShow:r,item:n,hide:this.hideDialog},t.map(function(t){return v.default.createElement("div",{className:N.default.item,key:t.toString()+Math.random(),onClick:function(){return e.itemClick(t)}},v.default.createElement("div",{className:N.default.username},v.default.createElement("p",null,v.default.createElement("span",{className:N.default.name},t.proStartUserName,"的"),v.default.createElement("span",{className:N.default.taskName},t.processDefName))),v.default.createElement("div",{className:N.default.flowType},v.default.createElement("span",null,"任务名称：",t.name)),v.default.createElement("div",{className:N.default.taskCreateTime},v.default.createElement("p",null,v.default.createElement(s.default,{type:"clock-circle-o"}),v.default.createElement("span",{className:N.default.taskCreateTime},t.createTime),"提交")))})):v.default.createElement("div",{className:N.default.noTasks},v.default.createElement("div",{className:N.default.noTasksImg},v.default.createElement("img",{src:a("8Zrn"),alt:""})),v.default.createElement("p",{className:N.default.noTasksText},"您暂时没有工作任务需要处理"),v.default.createElement("div",{className:N.default.fetchTasks},v.default.createElement("button",{onClick:this.fetchTask},"点击刷新"))))}}]),t}(v.default.Component),b=function(e){return{todo:e.toDo}};t.default=(0,g.connect)(b)(w)},"3OH8":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("Y2f6"),a("vaID")),s=l(n),r=a("Zx67"),c=l(r),u=a("Zrlr"),d=l(u),i=a("wxAW"),m=l(i),o=a("zwoO"),f=l(o),p=a("Pf15"),h=l(p),E=a("U7vG"),v=l(E);l((l(a("VK3d")),a("cl+9"))),a("y+xq");var g=(a("RH2O"),function(e){function t(){var e,a,l,n;(0,d.default)(this,t);for(var s=arguments.length,r=Array(s),u=0;u<s;u++)r[u]=arguments[u];return a=l=(0,f.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(r))),l.state={visable:!1,actives:0},l.showModal=function(e){l.setState({visable:!0,actives:e})},l.hideModal=function(){l.setState({visable:!1})},l.change=function(e){l.setState({actives:e})},l.prev=function(){var e=l.state.actives;0!==e&&(e-=1,l.setState({actives:e}))},l.next=function(){var e=l.state.actives;3!==e&&(e+=1,l.setState({actives:e}))},n=a,(0,f.default)(l,n)}return(0,h.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this,t=this.state,l=t.visable,n=t.actives;return v.default.createElement("div",{className:"newbie"},v.default.createElement("div",{className:"top title"},v.default.createElement("img",{src:a("DccW"),alt:"功能列表",title:"功能列表"}),v.default.createElement("span",null,"了解功能")),v.default.createElement("div",{className:"content"},v.default.createElement("div",{className:"eoa-data-all"},v.default.createElement("div",{className:"allWorkDask"},v.default.createElement("div",{className:"allWorkDaskItem"},v.default.createElement("div",{className:"item",onClick:function(){return e.showModal(0)}},v.default.createElement("div",{className:"itemIcon"},v.default.createElement("img",{src:a("WqZJ"),alt:"今日工作",title:"功能列表"})),v.default.createElement("div",{className:"itemDes"},v.default.createElement("p",{className:"itemTitle"},"今日工作"),v.default.createElement("p",{className:"itemInfo"},"考勤动态一览无遗、工作任务快速处理，GIONEE子系统集成入口更让你的工作如此便捷"))),v.default.createElement("div",{className:"item",onClick:function(){return e.showModal(1)}},v.default.createElement("div",{className:"itemIcon"},v.default.createElement("img",{src:a("N7np"),alt:"审批中心",title:"审批中心"})),v.default.createElement("div",{className:"itemDes"},v.default.createElement("p",{className:"itemTitle"},"审批中心"),v.default.createElement("p",{className:"itemInfo"},"集成所有审批任务，提升在多任务场景下的工作效率和效果"))),v.default.createElement("div",{className:"item",onClick:function(){return e.showModal(2)}},v.default.createElement("div",{className:"itemIcon"},v.default.createElement("img",{src:a("gJ0D"),alt:"考勤管理",title:"考勤管理"})),v.default.createElement("div",{className:"itemDes"},v.default.createElement("p",{className:"itemTitle"},"考勤管理"),v.default.createElement("p",{className:"itemInfo"},"快速、便捷创建所需申请，实时知晓申请进度"))),v.default.createElement("div",{className:"item",onClick:function(){return e.showModal(3)}},v.default.createElement("div",{className:"itemIcon"},v.default.createElement("img",{src:a("9/F6"),alt:"办公资源",title:"办公资源"})),v.default.createElement("div",{className:"itemDes"},v.default.createElement("p",{className:"itemTitle"},"办公资源"),v.default.createElement("p",{className:"itemInfo"},"会议申请、车辆申请，满足内外勤所需")))),v.default.createElement("div",{className:"qrCodeForMobile"},v.default.createElement("div",{className:"title"},v.default.createElement("img",{src:a("nSbw"),alt:"下载客户端",title:"下载客户端"}),v.default.createElement("span",null,"下载手机客户端")),v.default.createElement("div",{className:"qrCodeInfo"},v.default.createElement("div",{className:"qrcdeImg"},v.default.createElement("img",{src:a("5mn2"),alt:"手机APP二维码",title:"手机APP二维码"})),v.default.createElement("div",{className:"info"},v.default.createElement("p",{className:"infoTitle"},"下载EOA客户端，实现电脑、手机多平台一体化办公"),v.default.createElement("p",{className:"des"},"扫描二维码 下载手机客户端"))))))),v.default.createElement(s.default,{title:null,visible:l,onCancel:this.hideModal,footer:null,width:746,style:{top:168},wrapClassName:"newbieDialog"},v.default.createElement("div",{className:"carousel"},v.default.createElement("div",{className:"carousel-content",style:{marginLeft:100*-n+"%"}},v.default.createElement("div",{className:"carousel-item"},v.default.createElement("div",{className:"item-img"},v.default.createElement("img",{src:a("gXRx"),alt:"今日工作",title:"今日工作"})),v.default.createElement("div",{className:"item-des"},v.default.createElement("h3",null,"今日工作"),v.default.createElement("p",null,"月度考勤动态一览无遗，并可对异常考勤及时处理"),v.default.createElement("p",null,"快速查看、办理待办工作任务，使工作效率直线提升"),v.default.createElement("p",null,"子系统入口让你便捷前往所需系统，更可个性化、自主配置你的入口展示"))),v.default.createElement("div",{className:"carousel-item"},v.default.createElement("div",{className:"item-img"},v.default.createElement("img",{src:a("6lbg"),alt:"审批中心",title:"审批中心"})),v.default.createElement("div",{className:"item-des"},v.default.createElement("h3",null,"审批中心"),v.default.createElement("p",null,"集成工作流、加班、请假、出差、补卡、派车审批，大幅提升在多任务场景下的工作效率"),v.default.createElement("p",null,"对待办审批任务实时提醒、迅速定位，可便捷、快速、准确完成你的工作任务"))),v.default.createElement("div",{className:"carousel-item"},v.default.createElement("div",{className:"item-img"},v.default.createElement("img",{src:a("+EOj"),alt:"考勤管理",title:"考勤管理"})),v.default.createElement("div",{className:"item-des"},v.default.createElement("h3",null,"考勤管理"),v.default.createElement("p",null,"集成补卡、加班、请假、出差申请，可快速、便捷创建所需申请"),v.default.createElement("p",null,"对申请过程分步监控，实时知晓申请进度"))),v.default.createElement("div",{className:"carousel-item"},v.default.createElement("div",{className:"item-img"},v.default.createElement("img",{src:a("ZESc"),alt:"办公资源",title:"办公资源"})),v.default.createElement("div",{className:"item-des"},v.default.createElement("h3",null,"办公资源"),v.default.createElement("p",null,"快速创建会议申请后，可对申请进度进行实时监控"),v.default.createElement("p",null,"快速创建车辆申请后，可对申请进度进行实时监控")))),0===n?null:v.default.createElement("a",{href:"javascript:void(0)",className:"prev change",onClick:this.prev},v.default.createElement("img",{src:a("ZYEx"),alt:"上一个",title:"上一个"})),3===n?null:v.default.createElement("a",{href:"javascript:void(0)",className:"next change",onClick:this.next},v.default.createElement("img",{src:a("dS/e"),alt:"下一个",title:"下一个"})),v.default.createElement("div",{className:"slick-dots"},v.default.createElement("span",{className:0===n?"dots active":"dots",onClick:function(){return e.change(0)}}),v.default.createElement("span",{className:1===n?"dots active":"dots",onClick:function(){return e.change(1)}}),v.default.createElement("span",{className:2===n?"dots active":"dots",onClick:function(){return e.change(2)}}),v.default.createElement("span",{className:3===n?"dots active":"dots",onClick:function(){return e.change(3)}})))))}}]),t}(v.default.Component));t.default=g},DB7P:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("1szz"),a("0b0c")),s=l(n),r=(a("Dp5J"),a("G3dI")),c=l(r),u=a("U7vG"),d=l(u),i=a("hHkV"),m=l(i),o=function(e){var t=e.title,a=e.titleExtend,l=e.children;return d.default.createElement("div",{className:m.default.card},d.default.createElement("div",{className:m.default.cardTop},d.default.createElement(s.default,null,d.default.createElement(c.default,{span:12},d.default.createElement("div",{className:m.default.cardTitle},t)),d.default.createElement(c.default,{span:12},d.default.createElement("div",null,a)))),d.default.createElement("div",{className:m.default.cardContent},l))};t.default=o},RMmU:function(e,t){e.exports={indexTask:"_3nSje-Bg2EQG6Ke8Rhsn4G",item:"_3_5i04gynPe8iJrgT_NAf8",username:"yMDKeVPVFOTls7fKNogKe",name:"_1cpnL1cMcBc0ADyTXBx1Cd",taskName:"_1O6CSkz1zpO3R2MmPfolmA",flowType:"O_RetwuZtVpAaz99yqYYw",taskCreateTime:"_3yHxoWSHYcD_ck8B0Trmy9",noTasks:"_1YOzw9FIh-71EjZtnySrhi",noTasksText:"_1PFr3NBb9zO_NTYKhobr4T",fetchTasks:"tQMWjfcOO5u92y_rYGi0V"}},Sn6V:function(e,t){e.exports={attendance:"_2g6y-JNqA-q1iuePDpUMGn",selectDate:"_3pRjE1HM_fQgNqkuIicio4",select:"dtV1_cjbRrRhoGJC3pCZM",dateinfo:"_3hlc-aXcm-25_4aK_isBLp",year:"_2uaTFVRq94tzvomPb6xukX",month:"_1a4vTS2BdnA0RzEBBft9Sd",backToDay:"_1iHFEr773-0cIObmgWifSZ",abnormal:"_2dgYuY6yCKdZxjayIk9410",abnormalData:"_2cE81CgV6vYvOwLzwkIsKU"}},UU4t:function(e,t){e.exports={todays:"_1EipCz58LwKFv2E734rfBv",myTask:"_3pUk0kGLbD5m9HBSqw9qOG",task:"_3or-QU515UTwZaR2td51zQ",taskTop:"_3HEMNVFsQ1f-UxP4esHWuB",taskIcon:"_2vg8Vz1ESDFfbd2Qgs9Ee_",taskDes:"_109IDD6EUrQWHZCd6Effqj",taskHandle:"CfXNVPbKTMbK1qc2x1uF1",taskHandleDes:"_1LgxB8U5_O2Nkqix-Hhoxn",todotext:"_3jAeDFsB1J6ahIVBljyt-l",date:"_3ARJ2uy2pCL59yTE3xDKwV",taskHandleArea:"EChlZqJ67zi-ekLcv0gRv"}},VK3d:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("ODt/"),a("vgHw")),s=l(n),r=a("U7vG"),c=l(r),u=a("jIVm"),d=l(u),i=function(e){var t=e.buttons;return e.actived,c.default.createElement("div",{className:d.default.pane},t.map(function(e){return c.default.createElement("span",{key:e,className:""},c.default.createElement("a",{key:e,href:"javascript:void(0);"},e))}),c.default.createElement("span",null,c.default.createElement(s.default,{className:d.default.flushBtn,type:"sync"})))};t.default=i},YEWH:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("1szz"),a("0b0c")),s=l(n),r=(a("Dp5J"),a("G3dI")),c=l(r),u=a("U7vG"),d=l(u),i=a("VK3d"),m=(l(i),a("WJzX")),o=(l(m),a("cl+9")),f=(l(o),a("UU4t")),p=l(f),h=(a("RH2O"),a("wvNM")),E=l(h),v=a("1Sbv"),g=l(v),y=a("DB7P"),N=l(y),k=a("ecDI"),_=l(k),D=a("1s5I"),w=l(D),b=function(){return d.default.createElement("div",{className:p.default.todays},d.default.createElement(s.default,{gutter:24},d.default.createElement(c.default,{md:24,sm:24,xs:24,lg:17,xl:17},d.default.createElement(_.default,null),d.default.createElement(N.default,{title:d.default.createElement("div",null,d.default.createElement("img",{src:a("kynB"),alt:"工作任务",title:"工作任务"}),d.default.createElement("span",null,"工作任务"))},d.default.createElement("div",{className:p.default.myTask},d.default.createElement(w.default,null)))),d.default.createElement(c.default,{md:24,sm:24,xs:24,lg:7,xl:7},d.default.createElement(s.default,{gutter:24},d.default.createElement(c.default,{md:12,sm:12,xs:24,lg:24,xl:24},d.default.createElement(N.default,{title:d.default.createElement("div",null,d.default.createElement("img",{src:a("K48P"),alt:"我的应用",title:"我的应用"}),d.default.createElement("span",null,"我的应用"))},d.default.createElement(g.default,null))),d.default.createElement(c.default,{md:12,sm:12,xs:24,lg:24,xl:24},d.default.createElement(N.default,{title:d.default.createElement("div",null,d.default.createElement("img",{src:a("Tt1O"),alt:"公告中心",title:"公告中心"}),d.default.createElement("span",null,"公告中心"))},d.default.createElement("div",{className:p.default.noticesCard},d.default.createElement(E.default,null))))))))};t.default=b},ecDI:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a("1szz"),a("0b0c")),s=l(n),r=(a("Dp5J"),a("G3dI")),c=l(r),u=(a("Y2f6"),a("vaID")),d=l(u),i=(a("du7Z"),a("IidI")),m=l(i),o=(a("ODt/"),a("vgHw")),f=l(o),p=a("Zx67"),h=l(p),E=a("Zrlr"),v=l(E),g=a("wxAW"),y=l(g),N=a("zwoO"),k=l(N),_=a("Pf15"),D=l(_),w=a("U7vG"),b=l(w),T=a("F8kA"),C=a("RH2O"),M=a("PJh5"),I=l(M),x=a("mtWM"),S=(l(x),a("sXOF")),O=l(S),P=a("DB7P"),B=l(P),A=a("Sn6V"),H=l(A),W=a("BCOr");I.default.locale("zh-cn");var z=function(e){function t(){var e,a,l,n;(0,v.default)(this,t);for(var s=arguments.length,r=Array(s),c=0;c<s;c++)r[c]=arguments[c];return a=l=(0,k.default)(this,(e=t.__proto__||(0,h.default)(t)).call.apply(e,[this].concat(r))),l.state={nowDate:new Date,calendarDate:new Date,year:(0,I.default)().get("year"),month:(0,I.default)().get("month"),visible:!1,timeValue:"",disposeType:"",record:{}},l.dateClick=function(e,t,a,n,s){l.setState({visible:!0,timeValue:s,disposeType:"早"===s?"P10":"P20",record:{attendanceDate:(0,I.default)([e,t,a])}})},l.hideModal=function(){l.setState({visible:!1})},l.changeMonth=function(e,t){var a=l.props,n=a.dispatch,s=a.user;n(function(a){return(0,W.attendanceDataLoad)(a,e,t+1,s.empId)}),l.setState({year:e,month:t})},l.backToDay=function(){var e=(0,I.default)().get("year"),t=(0,I.default)().get("month"),a=l.props,n=a.dispatch,s=a.user;n(function(a){return(0,W.attendanceDataLoad)(a,e,t+1,s.empId)}),l.setState({year:e,month:t})},l.prevMonth=function(e,t){var a=l.props,n=a.dispatch,s=a.user,r=(0,I.default)([t,e]).subtract(1,"months"),c=(0,I.default)(r).get("year"),u=(0,I.default)(r).get("month");l.setState({calendarDate:r,year:c,month:u}),n(function(e){return(0,W.attendanceDataLoad)(e,c,u+1,s.empId)})},l.nextMonth=function(e,t){var a=l.props,n=a.dispatch,s=a.user,r=(0,I.default)([t,e]).add(1,"months"),c=(0,I.default)(r).get("year"),u=(0,I.default)(r).get("month");l.setState({calendarDate:r,year:c,month:u}),n(function(e){return(0,W.attendanceDataLoad)(e,c,u+1,s.empId)})},n=a,(0,k.default)(l,n)}return(0,D.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.year,a=e.month,l=this.props,n=l.dispatch,s=l.user;n(function(e){return(0,W.attendanceDataLoad)(e,t,a+1,s.empId)})}},{key:"summary",value:function(e){var t=[];return e.unregist>0&&t.push("<span>忘记打卡：<strong className="+H.default.unregistCount+">"+e.unregist+"</strong>次</span>"),e.absence>0&&t.push("<span>矿工：<strong className="+H.default.unregistCount+">"+e.absence+"</strong>次</span>"),e.earlyLeave>0&&t.push("<span>早退：<strong className="+H.default.unregistCount+">"+e.earlyLeave+"</strong>次</span>"),e.late>0&&t.push("<span>迟到：<strong className="+H.default.unregistCount+">"+e.late+"</strong>次</span>"),t.join("")}},{key:"render",value:function(){var e=this;console.log("attendace-render");var t=this.state,l=t.year,n=t.month,r=t.calendarDate,u=(t.visible,t.timeValue,t.disposeType),i=t.record,o=this.props.attendanceData.summary,p=this.props.attendanceData.regists;return b.default.createElement("div",{className:H.default.attendance},b.default.createElement(B.default,{titleExtend:b.default.createElement("div",{className:H.default.selectDate},b.default.createElement("span",{className:H.default.select},b.default.createElement("a",{href:"javascript:;",onClick:function(){return e.prevMonth(n,l)}},b.default.createElement(f.default,{type:"left"})),b.default.createElement("span",{className:H.default.dateinfo},l,b.default.createElement("span",{className:H.default.year},"年"),n+1,b.default.createElement("span",{className:H.default.month},"月")),b.default.createElement("a",{href:"javascript:;",onClick:function(){return e.nextMonth(n,l)}},b.default.createElement(f.default,{type:"right"}))),b.default.createElement("a",{className:H.default.backToDay,onClick:this.backToDay},"回到今天")),title:b.default.createElement("div",null,b.default.createElement("img",{src:a("CKkm"),alt:"我的考勤",title:"我的考勤"}),b.default.createElement("span",null,"当月考勤"))},p?b.default.createElement("div",null,b.default.createElement(s.default,null,b.default.createElement(c.default,{md:24,sm:24,lg:24},b.default.createElement(O.default,{year:l,month:n,changeMonth:this.changeMonth,dateClick:this.dateClick,nowDate:r,regists:p}),b.default.createElement(d.default,{title:"早"==this.state.timeValue?"上班处理":"下班处理",visible:this.state.visible,onCancel:this.hideModal,footer:b.default.createElement("div",null,b.default.createElement(T.Link,{style:{display:"inline-block",marginLeft:16},to:{pathname:"Unnormal",query:{record:i,disposeType:u}}},b.default.createElement(m.default,{type:"primary"},"异常考勤证明")),b.default.createElement(T.Link,{style:{display:"inline-block",marginLeft:16},to:{pathname:"addTrip",query:{record:i,disposeType:u}}},b.default.createElement(m.default,{type:"primary"},"出差申请")),b.default.createElement(T.Link,{style:{display:"inline-block",marginLeft:16},to:{pathname:"addLeave",query:{record:i,disposeType:u}}},b.default.createElement(m.default,{type:"primary"},"请假")))},b.default.createElement("p",null,"异常考勤证明：填写异常考勤证明"),b.default.createElement("p",null,"出差申请：填写出差申请"),b.default.createElement("p",null,"请假：填写请假申请")))),b.default.createElement("div",{className:H.default.abnormalData},o?b.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.summary(o)}}):null)):null))}}]),t}(b.default.Component),j=function(e){return{attendanceData:e.attendanceDatas,user:e.user}};t.default=(0,C.connect)(j)(z)},hHkV:function(e,t){e.exports={card:"_1Vm8H2Bv3bvN0tvxR-eDE1",cardTop:"dggvDn_oLu0aDPik92Iqe",cardTitle:"_39gN1EyaalhDkFjhBwBZer",cardContent:"a34hDWYEaQPdg6htDMd3c"}},jIVm:function(e,t){e.exports={pane:"_3YG_a-RkVjw00FZ_k_g-BC",flushBtn:"JZ2FwCIYXqdB1xiBFGyXs"}},oE13:function(e,t){},sXOF:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Zx67"),s=l(n),r=a("Zrlr"),c=l(r),u=a("wxAW"),d=l(u),i=a("zwoO"),m=l(i),o=a("Pf15"),f=l(o),p=a("U7vG"),h=l(p),E=a("PJh5"),v=l(E);a("oE13");var g=function(e){function t(e){(0,c.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));a.handleDateClick=function(e,t,l,n){var s=0,r=0,c=null,u=a.props,d=u.year,i=u.month,m=u.changeMonth;switch(!0){case e>t-1&&e<l+t:break;case e<t:c=(0,v.default)([d,i]).subtract(1,"months"),s=c.get("year"),r=c.get("month"),m(s,r);break;case e>t+l-1:c=(0,v.default)([d,i]).add(1,"months"),s=c.get("year"),r=c.get("month"),m(s,r)}},a.signTheCard=function(e,t,l){var n=a.props,s=n.year,r=n.month;(0,n.dateClick)(s,r,e,t,l)};var l=a.props.tableHead;return a.state={tableHead:l||["周日","周一","周二","周三","周四","周五","周六"]},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"getCalendarDays",value:function(e){for(var t=e.firstDayInMonth,a=e.daysInMonth,l=e.shouldNextMonthDays,n=e.daysInPrevMonth,s=[],r=[],c=t;c--;)s.push(n-c);for(var u=1;u<=a;u++)s.push(u);for(var d=1;d<=l;d++)s.push(d);for(var i=0;i<6;i++)r.push(s.slice(7*i,7*i+7));return r}},{key:"judgeDate",value:function(e){var t=e.isNowMonth,a=e.isToday,l=e.isNowYearAndMonth,n=e.isWorkDay,s=e.isAnimation;switch(!0){case a&&t&&l:return"calendar-cell calendar-cell-today";case"休息日"===n:return"calendar-cell calendar-cell-play-day";case"节假日"===n:return"calendar-cell calendar-cell-holiday";case t&&s:return"calendar-cell calendar-cell-nowmonth";case t:return"calendar-cell";default:return"calendar-cell calendar-cell-othermonth"}}},{key:"abnormalAttendance",value:function(e,t,a,l,n){var s=this;if(t>=0&&t<=6){if(0==a||null==a)switch(t){case 1:return h.default.createElement("span",{className:"attendance-one-normal"},n+l);case 2:return h.default.createElement("span",{className:"attendance-late"},n,"迟到");case 3:return h.default.createElement("span",{className:"attendance-abnormal",onClick:function(){return s.signTheCard(e,t,n)}},n,"迟到(>2次)");case 4:return h.default.createElement("span",{className:"attendance-abnormal",onClick:function(){return s.signTheCard(e,t,n)}},n,"缺勤");case 5:return h.default.createElement("span",{className:"attendance-abnormal",onClick:function(){return s.signTheCard(e,t,n)}},n,"早退");case 6:return h.default.createElement("span",{className:"attendance-abnormal",onClick:function(){return s.signTheCard(e,t,n)}},n,"矿工")}else if(1==a)return h.default.createElement("span",{className:"attendance-signed-card"},"已签卡")}else if(t>6)switch(t){case 7:return h.default.createElement("span",{className:"attendance-leave"},n,"请假");case 8:return h.default.createElement("span",{className:"attendance-trip"},"出差");case 9:case 10:case 11:return h.default.createElement("span",{className:"attendance-trip"},"打卡正常");case 21:return h.default.createElement("span",{className:"attendance-trip"},"忘记打卡")}}},{key:"render",value:function(){var e=this,t=this.props,a=t.year,l=t.month,n=t.regists;n=n.attes||[],n.sort(function(e,t){return parseInt(e.atteDate.replace(/-/g,""))-parseInt(t.atteDate.replace(/-/g,""))});var s=this.state.tableHead,r=(0,v.default)([a,l,1]).get("day"),c=(0,v.default)([a,l]).daysInMonth(),u=42-r-c,d=(0,v.default)((0,v.default)([a,l]).subtract(1,"months")).daysInMonth(),i=(0,v.default)().get("date"),m=l===(0,v.default)().get("month")&&a===(0,v.default)().get("year");console.log(n);var o=this.getCalendarDays({firstDayInMonth:r,daysInMonth:c,shouldNextMonthDays:u,daysInPrevMonth:d});return h.default.createElement("div",{className:"calendar"},h.default.createElement("table",{className:"eoa-table"},h.default.createElement("thead",null,h.default.createElement("tr",null,function(e){return e.map(function(e){return h.default.createElement("th",{className:"calendar-head",key:e},e)})}(s))),h.default.createElement("tbody",null,o.map(function(t,a){return h.default.createElement("tr",{key:t+Math.random()},t.map(function(t,l){var s=7*a+l,u=s>r-1&&s<c+r,d=t===i&&u&&m,o=n.length,f=!!(u&&o>0&&t-1<o)&&n[t-1],p=!!f&&f.turnName,E=!!f&&f.onstatus,v=!!f&&f.offstatus,g=(E<3||E>8)&&(v<3||v>8);return h.default.createElement("td",{key:t+Math.random(),className:e.judgeDate({isNowMonth:u,isToday:d,isNowYearAndMonth:m,isWorkDay:p,isAnimation:g}),onClick:function(){return e.handleDateClick(s,r,c,t)}},h.default.createElement("div",{className:"calendar-date"},h.default.createElement("span",null,t),d?"今日":null),"大周周六"===p?h.default.createElement("div",{className:"big-saturday"},"班"):null,"休息日"===p?h.default.createElement("div",{className:"big-saturday rest"},"休"):null,"节假日"===p?h.default.createElement("div",{className:"big-saturday holiday"},"节"):null,u&&("休息日"!==p&&"节假日"!==p||""!==f.on||""!==f.off)?g?h.default.createElement("div",{className:"attendance-info"},h.default.createElement("p",null,"早打卡：",f.on?f.on:"--"),h.default.createElement("p",null,"晚打卡：",f.off?f.off:"--")):h.default.createElement("div",{className:"calendar-cell-unnormaday"},h.default.createElement("p",null,e.abnormalAttendance(t,E,f.onType,f.on,"早")),h.default.createElement("p",null,e.abnormalAttendance(t,v,f.offType,f.off,"晚"))):null)}))}))))}}]),t}(h.default.Component);t.default=g},"y+xq":function(e,t){e.exports={body:"_3wXoZrW0X-gTmzK8YuBDgo"}}});