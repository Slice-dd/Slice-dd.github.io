webpackJsonp([4],{"3Luv":function(e,t,a){"use strict";function n(){return!0}function r(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e,status:null}}function o(){var e=.1;return function(t){var a=t;return a>=.98?a:(a+=e,e-=.01,e<.001&&(e=.001),100*a)}}function i(e,t){var a=void 0!==e.uid?"uid":"name";return t.filter(function(t){return t[a]===e[a]})[0]}function l(e,t){var a=void 0!==e.uid?"uid":"name",n=t.filter(function(t){return t[a]!==e[a]});return n.length===t.length?null:n}Object.defineProperty(t,"__esModule",{value:!0}),t.T=n,t.fileToObject=r,t.genPercentAdd=o,t.getFileItem=i,t.removeFileItem=l},"4YDC":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(a("M1D3"),a("rpsp")),o=n(r),i=(a("4yHo"),a("uuhB")),l=n(i),s=(a("du7Z"),a("IidI")),u=n(s),d=a("Dd8w"),f=n(d),c=a("Zx67"),p=n(c),m=a("Zrlr"),h=n(m),v=a("wxAW"),y=n(v),g=a("zwoO"),b=n(g),k=a("Pf15"),w=n(k),E=(a("mNLB"),a("sRCy")),D=n(E),C=(a("RWXa"),a("NJOH")),P=n(C),_=(a("onAH"),a("37+n")),O=n(_),T=a("U7vG"),x=n(T),S=a("PJh5"),N=n(S),I=a("F8kA"),M=a("RH2O"),L=a("rRRd"),F=a("PwNh"),j=n(F),W=O.default.Item,U=(O.default.Item,P.default.Option),R=D.default.RangePicker,H=function(e){function t(){var e,a,n,r;(0,h.default)(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=(0,b.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(i))),n.state={typId:"1003",staDateSAP:"",staTime:"",oveDateSAP:"",oveTime:"",remark:"",date:[],days:0,previewVisible:!1,fileList:[]},n.changeTime=function(e,t,a,r){var o=[];""!=e&&(o.push((0,N.default)(e+" "+t,"YYYY-MM-DD HH:mm")),""!=a&&(o.push((0,N.default)(a+" "+r,"YYYY-MM-DD HH:mm")),n.onFinish(o))),n.setState({date:o})},n.changeType=function(e){n.setState({typId:e})},n.onChange=function(e,t){},n.onFinish=function(e){console.log("onFinish: ",e);var t=n.daysDate(e[0],e[1]),a=(0,f.default)({},t,{TypId:n.state.typId});(0,n.props.dispatch)((0,L.leaveDay)(a))},n.daysDate=function(e,t){var a=new Date(e),r=new Date(t);return(0,f.default)({staDateSAP:a.getFullYear()+n.formatTen(a.getMonth()+1)+n.formatTen(a.getDate()),staTime:n.formatTen(a.getHours())+n.formatTen(a.getMinutes())+"00"},{oveDateSAP:r.getFullYear()+n.formatTen(r.getMonth()+1)+n.formatTen(r.getDate()),oveTime:n.formatTen(r.getHours())+n.formatTen(r.getMinutes())+"00"})},n.formatDate=function(e,t){var a=new Date(e),r=new Date(t);return(0,f.default)({startDate:a.getFullYear()+n.formatTen(a.getMonth()+1)+n.formatTen(a.getDate()),startTime:n.formatTen(a.getHours())+n.formatTen(a.getMinutes())+"00"},{overDate:r.getFullYear()+n.formatTen(r.getMonth()+1)+n.formatTen(r.getDate()),overTime:n.formatTen(r.getHours())+n.formatTen(r.getMinutes())+"00"})},n.formatTen=function(e){return e>9?e+"":"0"+e},n.handleCancel=function(){return n.setState({previewVisible:!1})},n.handleChange=function(e){var t=e.fileList;return n.setState({fileList:t})},n.disabledDateTime=function(){return{disabledSeconds:function(){return n.range(1,60)}}},n.range=function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a},r=a,(0,b.default)(n,r)}return(0,w.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.props;e.history,(0,e.dispatch)((0,L.defaultDays)());var t=this.props.location.query;if(t&&t.record&&t.disposeType){var a=t.record;t.disposeType,this.changeTime(a.attendanceDate.format("YYYY-MM-DD"),"09:00",(0,N.default)(a.attendanceDate).format("YYYY-MM-DD"),"18:00")}}},{key:"handleReset",value:function(e){e.preventDefault(),this.props.form.resetFields(),this.setState({days:0,remark:"",date:[]})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(e)return void console.log("Errors in form!!!");var n=a,r=t.formatDate(a.startDate[0],a.startDate[1]);n=(0,f.default)({},n,r);var o=t.props,i=o.dispatch,l=o.history;i((0,L.leaveSave)(n,l,t.props.user.empId))})}},{key:"render",value:function(){var e=this.props.user,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:7}}},n={initialValue:this.state.date,rules:[{type:"array",required:!0,message:"请选择请假时间!"}]};return x.default.createElement("div",null,x.default.createElement("div",{className:j.default.back},x.default.createElement(u.default,null,x.default.createElement(I.Link,{to:"Leave"},"返回"))),x.default.createElement("div",{className:j.default.data},x.default.createElement(O.default,null,x.default.createElement(W,(0,f.default)({},a,{label:"流程说明："}),x.default.createElement("p",null,"1.请假申请延时不超过两个工作日。",x.default.createElement("br",null),"2.父母、配偶、子女、配偶父母之丧事，给予丧假3天。",x.default.createElement("br",null),"3.有薪/扣薪假期必须上传相关证明，人力资源管理中心有权核验原件。")),x.default.createElement(W,(0,f.default)({},a,{label:"申请人："}),x.default.createElement("span",null,e.empNm)),x.default.createElement(W,(0,f.default)({},a,{label:"请假类型："}),t("typId",{initialValue:"1003",rules:[{required:!0,message:"请选择请假类型!"}]})(x.default.createElement(P.default,{name:"typId",placeholder:"选择请假类型",style:{width:150},onChange:this.changeType},x.default.createElement(U,{value:"1003"},"事假"),x.default.createElement(U,{value:"1016"},"年假"),x.default.createElement(U,{value:"1008"},"带薪病假"),x.default.createElement(U,{value:"1009"},"扣薪病假"),x.default.createElement(U,{value:"1004"},"婚假"),x.default.createElement(U,{value:"1006"},"丧假"),x.default.createElement(U,{value:"1011"},"哺乳假"),x.default.createElement(U,{value:"1012"},"工伤假"),x.default.createElement(U,{value:"1014"},"旅游假"),x.default.createElement(U,{value:"1015"},"调休"),x.default.createElement(U,{value:"1007"},"正常产假"),x.default.createElement(U,{value:"1010"},"陪产假"),x.default.createElement(U,{value:"1023"},"难产假"),x.default.createElement(U,{value:"1024"},"多胞胎产假"),x.default.createElement(U,{value:"1025"},"小产假")))),x.default.createElement(W,(0,f.default)({},a,{label:"请假时间："}),t("startDate",n)(x.default.createElement(R,{showTime:{defaultValue:[(0,N.default)("09:00:00","HH:mm:ss"),(0,N.default)("18:00:00","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始时间","结束时间"],disabledTime:this.disabledDateTime,onChange:this.onChange,onOk:this.onFinish,style:{width:300}}))),x.default.createElement(W,{labelCol:{xs:{span:4},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:6}},label:"请假事由："},t("remark",{initialValue:this.state.remark,rules:[{required:!0,message:"真的不打算写点什么吗？"}]})(x.default.createElement(l.default,{type:"textarea",placeholder:"请假事由",autosize:{minRows:4,maxRows:9}}))),x.default.createElement(W,(0,f.default)({},a,{label:"天数："}),x.default.createElement("span",{className:j.default.dayColor}," ",this.props.days," "),"天"),x.default.createElement(W,(0,f.default)({},a,{label:"上传请假证明："}),x.default.createElement(o.default,{action:"//jsonplaceholder.typicode.com/posts/",fileList:this.state.fileList,onPreview:this.handlePreview,onChange:this.handleChange},x.default.createElement(u.default,null,"上传请假证明"))),x.default.createElement(W,{wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:3}}},x.default.createElement(u.default,{type:"ghost",onClick:this.handleReset.bind(this)},"重置"),"         ",x.default.createElement(u.default,{type:"primary",onClick:this.handleSubmit.bind(this),loading:this.props.isFetching},"确定")))))}}]),t}(T.Component),Y=function(e,t){var a=e.leave,n=e.user;return{days:a.days,isFetching:a.isFetching,user:n}};t.default=(0,M.connect)(Y)(O.default.create()(H))},"6va4":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),o=n(r),i=a("Dd8w"),l=n(i),s=a("Zrlr"),u=n(s),d=a("wxAW"),f=n(d),c=a("zwoO"),p=n(c),m=a("Pf15"),h=n(m),v=a("U7vG"),y=n(v),g=a("m0ws"),b=n(g),k=a("KSGD"),w=n(k),E=a("HW6M"),D=n(E),C=a("Bvzt"),P=n(C),_=a("3Luv"),O={uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件"},T=function(e){function t(e){(0,u.default)(this,t);var a=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onStart=function(e){var t=void 0,n=a.state.fileList.concat();e.length>0?(t=e.map(function(e){var t=(0,_.fileToObject)(e);return t.status="uploading",t}),n=n.concat(t)):(t=(0,_.fileToObject)(e),t.status="uploading",n.push(t)),a.onChange({file:t,fileList:n}),window.FormData||a.autoUpdateProgress(0,t)},a.onSuccess=function(e,t){a.clearProgressTimer();try{"string"==typeof e&&(e=JSON.parse(e))}catch(e){}var n=a.state.fileList,r=(0,_.getFileItem)(t,n);r&&(r.status="done",r.response=e,a.onChange({file:(0,l.default)({},r),fileList:n}))},a.onProgress=function(e,t){var n=a.state.fileList,r=(0,_.getFileItem)(t,n);r&&(r.percent=e.percent,a.onChange({event:e,file:(0,l.default)({},r),fileList:a.state.fileList}))},a.onError=function(e,t,n){a.clearProgressTimer();var r=a.state.fileList,o=(0,_.getFileItem)(n,r);o&&(o.error=e,o.response=t,o.status="error",a.onChange({file:(0,l.default)({},o),fileList:r}))},a.handleManualRemove=function(e){a.refs.upload.abort(e),e.status="removed",a.handleRemove(e)},a.onChange=function(e){"fileList"in a.props||a.setState({fileList:e.fileList});var t=a.props.onChange;t&&t(e)},a.onFileDrop=function(e){a.setState({dragState:e.type})},a.state={fileList:a.props.fileList||a.props.defaultFileList||[],dragState:"drop"},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentWillUnmount",value:function(){this.clearProgressTimer()}},{key:"getLocale",value:function(){var e={};return this.context.antLocale&&this.context.antLocale.Upload&&(e=this.context.antLocale.Upload),(0,l.default)({},O,e,this.props.locale)}},{key:"autoUpdateProgress",value:function(e,t){var a=this,n=(0,_.genPercentAdd)(),r=0;this.clearProgressTimer(),this.progressTimer=setInterval(function(){r=n(r),a.onProgress({percent:r},t)},200)}},{key:"handleRemove",value:function(e){var t=this,a=this.props.onRemove;Promise.resolve("function"==typeof a?a(e):a).then(function(a){if(!1!==a){var n=(0,_.removeFileItem)(e,t.state.fileList);n&&t.onChange({file:e,fileList:n})}})}},{key:"componentWillReceiveProps",value:function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})}},{key:"clearProgressTimer",value:function(){clearInterval(this.progressTimer)}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=void 0===a?"":a,r=t.showUploadList,i=t.listType,s=t.onPreview,u=t.type,d=t.disabled,f=t.children,c=t.className,p=(0,l.default)({onStart:this.onStart,onError:this.onError,onProgress:this.onProgress,onSuccess:this.onSuccess},this.props);delete p.className;var m=r.showRemoveIcon,h=r.showPreviewIcon,v=r?y.default.createElement(P.default,{listType:i,items:this.state.fileList,onPreview:s,onRemove:this.handleManualRemove,showRemoveIcon:m,showPreviewIcon:h,locale:this.getLocale()}):null;if("drag"===u){var g,k=(0,D.default)(n,(g={},(0,o.default)(g,n+"-drag",!0),(0,o.default)(g,n+"-drag-uploading",this.state.fileList.some(function(e){return"uploading"===e.status})),(0,o.default)(g,n+"-drag-hover","dragover"===this.state.dragState),(0,o.default)(g,n+"-disabled",d),g));return y.default.createElement("span",{className:c},y.default.createElement("div",{className:k,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,onDragLeave:this.onFileDrop},y.default.createElement(b.default,(0,l.default)({},p,{ref:"upload",className:n+"-btn"}),y.default.createElement("div",{className:n+"-drag-container"},f))),v)}var w=(0,D.default)(n,(e={},(0,o.default)(e,n+"-select",!0),(0,o.default)(e,n+"-select-"+i,!0),(0,o.default)(e,n+"-disabled",d),e)),E=y.default.createElement("div",{className:w,style:{display:f?"":"none"}},y.default.createElement(b.default,(0,l.default)({},p,{ref:"upload"})));return"picture-card"===i?y.default.createElement("span",{className:c},v,E):y.default.createElement("span",{className:c},E,v)}}]),t}(y.default.Component);t.default=T,T.defaultProps={prefixCls:"ant-upload",type:"select",multiple:!1,action:"",data:{},accept:"",beforeUpload:_.T,showUploadList:!0,listType:"text",className:"",disabled:!1,supportServerRender:!0},T.contextTypes={antLocale:w.default.object},e.exports=t.default},"8Uiw":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mlzS"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default,e.exports=t.default},Bvzt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),o=n(r),i=a("Dd8w"),l=n(i),s=a("Zrlr"),u=n(s),d=a("wxAW"),f=n(d),c=a("zwoO"),p=n(c),m=a("Pf15"),h=n(m),v=a("U7vG"),y=n(v),g=a("8aSS"),b=n(g),k=a("vgHw"),w=n(k),E=a("ExGt"),D=n(E),C=a("8Uiw"),P=n(C),_=a("HW6M"),O=n(_),T=function(e,t){var a=new FileReader;a.onloadend=function(){return t(a.result)},a.readAsDataURL(e)},x=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=function(t){var a=e.props.onRemove;a&&a(t)},e.handlePreview=function(t,a){var n=e.props.onPreview;if(n)return a.preventDefault(),n(t)},e}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidUpdate",value:function(){var e=this;"picture"!==this.props.listType&&"picture-card"!==this.props.listType||(this.props.items||[]).forEach(function(t){"undefined"!=typeof document&&"undefined"!=typeof window&&window.FileReader&&window.File&&t.originFileObj instanceof File&&void 0===t.thumbUrl&&(t.thumbUrl="",T(t.originFileObj,function(a){t.thumbUrl=a,e.forceUpdate()}))})}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.prefixCls,r=a.items,i=void 0===r?[]:r,s=a.listType,u=a.showPreviewIcon,d=a.showRemoveIcon,f=a.locale,c=i.map(function(e){var a,r=void 0,i=y.default.createElement(w.default,{type:"uploading"===e.status?"loading":"paper-clip"});if("picture"!==s&&"picture-card"!==s||(i="uploading"===e.status||!e.thumbUrl&&!e.url?"picture-card"===s?y.default.createElement("div",{className:n+"-list-item-uploading-text"},f.uploading):y.default.createElement(w.default,{className:n+"-list-item-thumbnail",type:"picture"}):y.default.createElement("a",{className:n+"-list-item-thumbnail",onClick:function(a){return t.handlePreview(e,a)},href:e.url||e.thumbUrl,target:"_blank",rel:"noopener noreferrer"},y.default.createElement("img",{src:e.thumbUrl||e.url,alt:e.name}))),"uploading"===e.status){var c="percent"in e?y.default.createElement(P.default,(0,l.default)({type:"line"},t.props.progressAttr,{percent:e.percent})):null;r=y.default.createElement("div",{className:n+"-list-item-progress",key:"progress"},c)}var p=(0,O.default)((a={},(0,o.default)(a,n+"-list-item",!0),(0,o.default)(a,n+"-list-item-"+e.status,!0),a)),m=e.url?y.default.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:n+"-list-item-name",onClick:function(a){return t.handlePreview(e,a)},title:e.name},e.name):y.default.createElement("span",{className:n+"-list-item-name",onClick:function(a){return t.handlePreview(e,a)},title:e.name},e.name),h=e.url||e.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},v=u?y.default.createElement("a",{href:e.url||e.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:h,onClick:function(a){return t.handlePreview(e,a)},title:f.previewFile},y.default.createElement(w.default,{type:"eye-o"})):null,g=d?y.default.createElement(w.default,{type:"delete",title:f.removeFile,onClick:function(){return t.handleClose(e)}}):null,k=d?y.default.createElement(w.default,{type:"cross",title:f.removeFile,onClick:function(){return t.handleClose(e)}}):null,E="picture-card"===s&&"uploading"!==e.status?y.default.createElement("span",{className:n+"-list-item-actions"},v,g):k,C=void 0;C=e.response&&"string"==typeof e.response?e.response:e.error&&e.error.statusText||f.uploadError;var _="error"===e.status?y.default.createElement(D.default,{title:C},i,m):y.default.createElement("span",null,i,m);return y.default.createElement("div",{className:p,key:e.uid},y.default.createElement("div",{className:n+"-list-item-info"},_),E,y.default.createElement(b.default,{transitionName:"fade",component:""},r))}),p=(0,O.default)((e={},(0,o.default)(e,n+"-list",!0),(0,o.default)(e,n+"-list-"+s,!0),e)),m="picture-card"===s?"animate-inline":"animate";return y.default.createElement(b.default,{transitionName:n+"-"+m,component:"div",className:p},c)}}]),t}(y.default.Component);t.default=x,x.defaultProps={listType:"text",progressAttr:{strokeWidth:2,showInfo:!1},prefixCls:"ant-upload",showRemoveIcon:!0,showPreviewIcon:!0},e.exports=t.default},K6ED:function(e,t,a){e.exports={default:a("cnlX"),__esModule:!0}},M1D3:function(e,t,a){"use strict";a("vmjQ"),a("OZao"),a("cwCV"),a("WQWV")},OZao:function(e,t){},Q5tW:function(e,t){},cnlX:function(e,t,a){a("iInB");var n=a("FeBl").Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},cwCV:function(e,t,a){"use strict";a("vmjQ"),a("Q5tW")},iInB:function(e,t,a){var n=a("TcQ7"),r=a("LKZe").f;a("uqUo")("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},j6Cr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=n(r),i=a("Zrlr"),l=n(i),s=a("wxAW"),u=n(s),d=a("zwoO"),f=n(d),c=a("Pf15"),p=n(c),m=a("U7vG"),h=n(m),v=a("6va4"),y=n(v),g=function(e){function t(){return(0,l.default)(this,t),(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props;return h.default.createElement(y.default,(0,o.default)({},e,{type:"drag",style:(0,o.default)({},e.style,{height:e.height})}))}}]),t}(h.default.Component);t.default=g,e.exports=t.default},m0ws:function(e,t,a){"use strict";function n(e,t){var a="cannot post "+e.action+" "+t.status+"'",n=new Error(a);return n.status=t.status,n.method="post",n.url=e.action,n}function r(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function o(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var a=new FormData;e.data&&Object.keys(e.data).map(function(t){a.append(t,e.data[t])}),a.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(n(e,t),r(t));e.onSuccess(r(t),t)},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};null!==o["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var i in o)o.hasOwnProperty(i)&&null!==o[i]&&t.setRequestHeader(i,o[i]);return t.send(a),{abort:function(){t.abort()}}}function i(){return"rc-upload-"+_+"-"+ ++O}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),u=a.n(s),d=a("Zrlr"),f=a.n(d),c=a("wxAW"),p=a.n(c),m=a("zwoO"),h=a.n(m),v=a("Pf15"),y=a.n(v),g=a("U7vG"),b=a.n(g),k=a("KSGD"),w=a.n(k),E=a("bOdI"),D=a.n(E),C=a("HW6M"),P=a.n(C),_=+new Date,O=0,T=function(e){function t(){var e,a,n,r;f()(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return a=n=h()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={uid:i()},n.reqs={},n.onChange=function(e){var t=e.target.files;n.uploadFiles(t),n.reset()},n.onClick=function(){var e=n.refs.file;e&&e.click()},n.onKeyDown=function(e){"Enter"===e.key&&n.onClick()},n.onFileDrop=function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;n.uploadFiles(t),e.preventDefault()},r=a,h()(n,r)}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"uploadFiles",value:function(e){for(var t=Array.prototype.slice.call(e),a=t.length,n=0;n<a;n++){var r=t[n];r.uid=i(),this.upload(r,t)}}},{key:"upload",value:function(e,t){var a=this,n=this.props;if(!n.beforeUpload)return setTimeout(function(){return a.post(e)},0);var r=n.beforeUpload(e,t);r&&r.then?r.then(function(t){var n=Object.prototype.toString.call(t);"[object File]"===n||"[object Blob]"===n?a.post(t):a.post(e)}).catch(function(e){console&&console.log(e)}):!1!==r&&setTimeout(function(){return a.post(e)},0)}},{key:"post",value:function(e){var t=this;if(this._isMounted){var a=this.props,n=a.data,r=a.onStart,i=a.onProgress;"function"==typeof n&&(n=n(e));var l=e.uid,s=a.customRequest||o;this.reqs[l]=s({action:a.action,filename:a.name,file:e,data:n,headers:a.headers,withCredentials:a.withCredentials,onProgress:i?function(t){i(t,e)}:null,onSuccess:function(n,r){delete t.reqs[l],a.onSuccess(n,e,r)},onError:function(n,r){delete t.reqs[l],a.onError(n,r,e)}}),r(e)}}},{key:"reset",value:function(){this.setState({uid:i()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var a=e;e&&e.uid&&(a=e.uid),t[a]&&(t[a].abort(),delete t[a])}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})}},{key:"render",value:function(){var e,t=this.props,a=t.component,n=t.prefixCls,r=t.className,o=t.disabled,i=t.style,l=t.multiple,s=t.accept,d=t.children,f=P()((e={},D()(e,n,!0),D()(e,n+"-disabled",o),D()(e,r,r),e)),c=o?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return b.a.createElement(a,u()({},c,{className:f,role:"button",style:i}),b.a.createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:s,multiple:l,onChange:this.onChange}),d)}}]),t}(g.Component);T.propTypes={component:w.a.string,style:w.a.object,prefixCls:w.a.string,className:w.a.string,multiple:w.a.bool,disabled:w.a.bool,accept:w.a.string,children:w.a.any,onStart:w.a.func,data:w.a.oneOfType([w.a.object,w.a.func]),headers:w.a.object,beforeUpload:w.a.func,customRequest:w.a.func,onProgress:w.a.func,withCredentials:w.a.bool};var x=T,S=a("O27J"),N=a.n(S),I=a("vYaj"),M=a.n(I),L={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},F=function(e){function t(){var e,a,n,r;f()(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return a=n=h()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={uploading:!1},n.file={},n.onLoad=function(){if(n.state.uploading){var e=n,t=e.props,a=e.file,r=void 0;try{var o=n.getIframeDocument(),i=o.getElementsByTagName("script")[0];i&&i.parentNode===o.body&&o.body.removeChild(i),r=o.body.innerHTML,t.onSuccess(r,a)}catch(e){M()(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),r="cross-domain",t.onError(e,null,a)}n.endUpload()}},n.onChange=function(){var e=n.getFormInputNode(),t=n.file={uid:i(),name:e.value};n.startUpload();var a=n,r=a.props;if(!r.beforeUpload)return n.post(t);var o=r.beforeUpload(t);o&&o.then?o.then(function(){n.post(t)},function(){n.endUpload()}):!1!==o?n.post(t):n.endUpload()},r=a,h()(n,r)}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.updateIframeWH(),this.initIframe()}},{key:"componentDidUpdate",value:function(){this.updateIframeWH()}},{key:"getIframeNode",value:function(){return this.refs.iframe}},{key:"getIframeDocument",value:function(){return this.getIframeNode().contentDocument}},{key:"getFormNode",value:function(){return this.getIframeDocument().getElementById("form")}},{key:"getFormInputNode",value:function(){return this.getIframeDocument().getElementById("input")}},{key:"getFormDataNode",value:function(){return this.getIframeDocument().getElementById("data")}},{key:"getFileForMultiple",value:function(e){return this.props.multiple?[e]:e}},{key:"getIframeHTML",value:function(e){var t="",a="";return e&&(t='<script>document.domain="'+e+'";<\/script>',a='<input name="_documentDomain" value="'+e+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+a+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '}},{key:"initIframeSrc",value:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")}},{key:"initIframe",value:function(){var e=this.getIframeNode(),t=e.contentWindow,a=void 0;this.domain=this.domain||"",this.initIframeSrc();try{a=t.document}catch(n){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,a=t.document}a.open("text/html","replace"),a.write(this.getIframeHTML(this.domain)),a.close(),this.getFormInputNode().onchange=this.onChange}},{key:"endUpload",value:function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())}},{key:"startUpload",value:function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))}},{key:"updateIframeWH",value:function(){var e=N.a.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"}},{key:"abort",value:function(e){if(e){var t=e;e&&e.uid&&(t=e.uid),t===this.file.uid&&this.endUpload()}else this.endUpload()}},{key:"post",value:function(e){var t=this.getFormNode(),a=this.getFormDataNode(),n=this.props.data,r=this.props.onStart;"function"==typeof n&&(n=n(e));var o=document.createDocumentFragment();for(var i in n)if(n.hasOwnProperty(i)){var l=document.createElement("input");l.setAttribute("name",i),l.value=n[i],o.appendChild(l)}a.appendChild(o),t.submit(),a.innerHTML="",r(e)}},{key:"render",value:function(){var e,t=this.props,a=t.component,n=t.disabled,r=t.className,o=t.prefixCls,i=t.children,l=t.style,s=u()({},L,{display:this.state.uploading||n?"none":""}),d=P()((e={},D()(e,o,!0),D()(e,o+"-disabled",n),D()(e,r,r),e));return b.a.createElement(a,{className:d,style:u()({position:"relative",zIndex:0},l)},b.a.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:s}),i)}}]),t}(g.Component);F.propTypes={component:w.a.string,style:w.a.object,disabled:w.a.bool,prefixCls:w.a.string,className:w.a.string,accept:w.a.string,onStart:w.a.func,multiple:w.a.bool,children:w.a.any,data:w.a.oneOfType([w.a.object,w.a.func]),action:w.a.string,name:w.a.string};var j=F,W=function(e){function t(){var e,a,n,r;f()(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=h()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={Component:null},r=a,h()(n,r)}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)}},{key:"getComponent",value:function(){return"undefined"!=typeof File?x:j}},{key:"abort",value:function(e){this.refs.inner.abort(e)}},{key:"render",value:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?b.a.createElement(e,u()({},this.props,{ref:"inner"})):null}var t=this.getComponent();return b.a.createElement(t,u()({},this.props,{ref:"inner"}))}}]),t}(g.Component);W.propTypes={component:w.a.string,style:w.a.object,prefixCls:w.a.string,action:w.a.string,name:w.a.string,multipart:w.a.bool,onError:w.a.func,onSuccess:w.a.func,onProgress:w.a.func,onStart:w.a.func,data:w.a.oneOfType([w.a.object,w.a.func]),headers:w.a.object,accept:w.a.string,multiple:w.a.bool,disabled:w.a.bool,beforeUpload:w.a.func,customRequest:w.a.func,onReady:w.a.func,withCredentials:w.a.bool,supportServerRender:w.a.bool},W.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onReady:l,onStart:l,onError:l,onSuccess:l,supportServerRender:!1,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1};var U=W;t.default=U},mlzS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=n(r),i=a("bOdI"),l=n(i),s=a("Zrlr"),u=n(s),d=a("wxAW"),f=n(d),c=a("zwoO"),p=n(c),m=a("Pf15"),h=n(m),v=a("KSGD"),y=n(v),g=a("U7vG"),b=n(g),k=a("vgHw"),w=n(k),E=a("zaGC"),D=a("HW6M"),C=n(D),P=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]]);return a},_={normal:"#108ee9",exception:"#ff5500",success:"#87d068"},O=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.className,r=t.percent,i=void 0===r?0:r,s=t.status,u=t.format,d=t.trailColor,f=t.type,c=t.strokeWidth,p=t.width,m=t.showInfo,h=t.gapDegree,v=void 0===h?0:h,y=t.gapPosition,g=P(t,["prefixCls","className","percent","status","format","trailColor","type","strokeWidth","width","showInfo","gapDegree","gapPosition"]),k=parseInt(i.toString(),10)>=100&&!("status"in t)?"success":s||"normal",D=void 0,O=void 0,T=u||function(e){return e+"%"};if(m){var x=void 0,S="circle"===f||"dashboard"===f?"":"-circle";x="exception"===k?u?T(i):b.default.createElement(w.default,{type:"cross"+S}):"success"===k?u?T(i):b.default.createElement(w.default,{type:"check"+S}):T(i),D=b.default.createElement("span",{className:a+"-text"},x)}if("line"===f){var N={width:i+"%",height:c||10};O=b.default.createElement("div",null,b.default.createElement("div",{className:a+"-outer"},b.default.createElement("div",{className:a+"-inner"},b.default.createElement("div",{className:a+"-bg",style:N}))),D)}else if("circle"===f||"dashboard"===f){var I=p||132,M={width:I,height:I,fontSize:.16*I+6},L=c||6,F=y||"dashboard"===f&&"bottom"||"top",j=v||"dashboard"===f&&75;O=b.default.createElement("div",{className:a+"-inner",style:M},b.default.createElement(E.Circle,{percent:i,strokeWidth:L,trailWidth:L,strokeColor:_[k],trailColor:d,prefixCls:a,gapDegree:j,gapPosition:F}),D)}var W=(0,C.default)(a,(e={},(0,l.default)(e,a+"-"+("dashboard"===f&&"circle"||f),!0),(0,l.default)(e,a+"-status-"+k,!0),(0,l.default)(e,a+"-show-info",m),e),n);return b.default.createElement("div",(0,o.default)({},g,{className:W}),O)}}]),t}(b.default.Component);t.default=O,O.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:"#f3f3f3",prefixCls:"ant-progress"},O.propTypes={status:y.default.oneOf(["normal","exception","active","success"]),type:y.default.oneOf(["line","circle","dashboard"]),showInfo:y.default.bool,percent:y.default.number,width:y.default.number,strokeWidth:y.default.number,trailColor:y.default.string,format:y.default.func,gapDegree:y.default.number},e.exports=t.default},rpsp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6va4"),o=n(r),i=a("j6Cr"),l=n(i);o.default.Dragger=l.default,t.default=o.default,e.exports=t.default},vYaj:function(e,t,a){"use strict";var n=function(){};e.exports=n},yEsh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a("Zx67"),o=n(r),i=a("K6ED"),l=n(i);t.default=function e(t,a,n){null===t&&(t=Function.prototype);var r=(0,l.default)(t,a);if(void 0===r){var i=(0,o.default)(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(n)}},zaGC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),o=a("+6Bu"),i=a.n(o),l=a("Zrlr"),s=a.n(l),u=a("wxAW"),d=a.n(u),f=a("zwoO"),c=a.n(f),p=a("Pf15"),m=a.n(p),h=a("U7vG"),v=a.n(h),y=a("yEsh"),g=a.n(y),b=function(e){return function(e){function t(){return s()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),d()(t,[{key:"componentDidUpdate",value:function(){if(this.path){var e=this.path.style;e.transitionDuration="0.3s, 0.3s";var t=Date.now();this.prevTimeStamp&&t-this.prevTimeStamp<100&&(e.transitionDuration="0s, 0s"),this.prevTimeStamp=Date.now()}}},{key:"render",value:function(){return g()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(e)},k=b,w=a("KSGD"),E=a.n(w),D={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},C={className:E.a.string,percent:E.a.oneOfType([E.a.number,E.a.string]),prefixCls:E.a.string,strokeColor:E.a.string,strokeLinecap:E.a.oneOf(["butt","round","square"]),strokeWidth:E.a.oneOfType([E.a.number,E.a.string]),style:E.a.object,trailColor:E.a.string,trailWidth:E.a.oneOfType([E.a.number,E.a.string])},P=function(e){function t(){return s()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.percent,o=t.prefixCls,l=t.strokeColor,s=t.strokeLinecap,u=t.strokeWidth,d=t.style,f=t.trailColor,c=t.trailWidth,p=i()(t,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth"]);delete p.gapPosition;var m={strokeDasharray:"100px, 100px",strokeDashoffset:100-n+"px",transition:"stroke-dashoffset 0.3s ease 0s, stroke 0.3s linear"},h=u/2,y=100-u/2,g="M "+("round"===s?h:0)+","+h+"\n           L "+("round"===s?y:100)+","+h,b="0 0 100 "+u;return v.a.createElement("svg",r()({className:o+"-line "+a,viewBox:b,preserveAspectRatio:"none",style:d},p),v.a.createElement("path",{className:o+"-line-trail",d:g,strokeLinecap:s,stroke:f,strokeWidth:c||u,fillOpacity:"0"}),v.a.createElement("path",{className:o+"-line-path",d:g,strokeLinecap:s,stroke:l,strokeWidth:u,fillOpacity:"0",ref:function(t){e.path=t},style:m}))}}]),t}(h.Component);P.propTypes=C,P.defaultProps=D;var _=k(P),O=function(e){function t(){return s()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),d()(t,[{key:"getPathStyles",value:function(){var e=this.props,t=e.percent,a=e.strokeWidth,n=e.gapDegree,r=void 0===n?0:n,o=e.gapPosition,i=50-a/2,l=0,s=-i,u=0,d=-2*i;switch(o){case"left":l=-i,s=0,u=2*i,d=0;break;case"right":l=i,s=0,u=-2*i,d=0;break;case"bottom":s=i,d=2*i}var f="M 50,50 m "+l+","+s+"\n     a "+i+","+i+" 0 1 1 "+u+","+-d+"\n     a "+i+","+i+" 0 1 1 "+-u+","+d,c=2*Math.PI*i;return{pathString:f,trailPathStyle:{strokeDasharray:c-r+"px "+c+"px",strokeDashoffset:"-"+r/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},strokePathStyle:{strokeDasharray:t/100*(c-r)+"px "+c+"px",strokeDashoffset:"-"+r/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,n=t.strokeWidth,o=t.trailWidth,l=t.strokeColor,s=t.trailColor,u=t.strokeLinecap,d=t.style,f=t.className,c=i()(t,["prefixCls","strokeWidth","trailWidth","strokeColor","trailColor","strokeLinecap","style","className"]),p=this.getPathStyles(),m=p.pathString,h=p.trailPathStyle,y=p.strokePathStyle,g=c.percent>0;return delete c.percent,delete c.gapDegree,delete c.gapPosition,v.a.createElement("svg",r()({className:a+"-circle "+f,viewBox:"0 0 100 100",style:d},c),v.a.createElement("path",{className:a+"-circle-trail",d:m,stroke:s,strokeWidth:o||n,fillOpacity:"0",style:h}),g&&v.a.createElement("path",{className:a+"-circle-path",d:m,strokeLinecap:u,stroke:l,strokeWidth:n,fillOpacity:"0",ref:function(t){e.path=t},style:y}))}}]),t}(h.Component);O.propTypes=r()({},C,{gapPosition:E.a.oneOf(["top","bottom","left","right"])}),O.defaultProps=r()({},D,{gapPosition:"top"});var T=k(O);a.d(t,"Line",function(){return _}),a.d(t,"Circle",function(){return T}),t.default={Line:_,Circle:T}}});